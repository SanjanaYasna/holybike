<!doctype html>
<html lang="en">
  <!---
  Renders navbar from shared/navbar + 
  contains map display and will interact with API backend in app/javascript/map_api -->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css">
  <%= stylesheet_link_tag "constantPageStyle"%>

</head>


<div id="container">
  <body style="background-color: #464646">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"></script>
    
    <!-- Render the navbar contents at top of every page-->
    <%= render 'shared/navbar' %>

  <div id="form">
    <div class="title">  
      <h1>Payments</h1>
    </div>

    <%= form_with(model: @payments, url: payments_path(ride_id: @ride.id), local: true, data: { turbo: false }) do |f| %>
      <label class="amount">
          <span> <p>Custom Payment:  <%= @payment_amt = @ride.calculate_payment %></p></span>
      </label>
    <%= if @ride.price < 0 
    @message = "Thou shalt not pilfer from thine service provider! Tis unholy. Please enter a positive amount of time."
    @message
    else f.submit "Pay Now"
   end%>

    <% end %>

  </div>
  </body>

  <div id="footer">
  <%= render 'shared/footer' %>
  </div>

</div>